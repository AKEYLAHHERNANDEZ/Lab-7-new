<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Calls Demo</title>
</head>
<body>
  <h1>API Calls Demo</h1>

  <script>
    async function makeApiRequests() {
      try {
        const ipResponse = await fetch('https://api64.ipify.org?format=json');
        const ipData = await ipResponse.json();
        const ipAddress = ipData.ip;

        const locationResponse = await fetch(https://ipapi.co/${ipAddress}/json/);
        const locationData = await locationResponse.json();

        const corsAnywhere = 'https://cors-anywhere.herokuapp.com/';

        const weatherResponse1 = await fetch(`${corsAnywhere}https://api.openweathermap.org/data/2.5/weather?q=${locationData.city}&appid=8ca556f945684a72446448d26e7df5f7
`);
        const weatherData1 = await weatherResponse1.json();

        const weatherResponse2 = await fetch(`${corsAnywhere}https://api.openweathermap.org/data/2.5/weather?q=${locationData.region}&appid=8ca556f945684a72446448d26e7df5f7
`);
        const weatherData2 = await weatherResponse2.json();

        console.log('Public IP Address:', ipAddress);
        console.log('Location Data:', locationData);
        console.log('Weather Data 1:', weatherData1);
        console.log('Weather Data 2:', weatherData2);
      } catch (error) {
        console.error('Error making API requests:', error);
      }
    }

    window.addEventListener('load', makeApiRequests);
  </script>
</body>
</html>
